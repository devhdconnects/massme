model Order {
  id            String   @id @default(cuid())
  number        String   @unique
  status        String   @default("PENDING_PAYMENT")
  currency      String
  subtotalCents Int
  shippingCents Int      @default(0)
  vatCents      Int      @default(0)
  totalCents    Int

  // Infos client / adresse
  firstName  String
  lastName   String
  email      String
  phone      String?
  address1   String
  address2   String?
  city       String
  postalCode String
  country    String
  state      String?

  // Paiement
  paymentIntentId   String? @unique
  checkoutSessionId String? @unique

  // Facturation
  invoiceNumber String?  @unique
  invoiceUrl    String?
  invoicedAt    DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  items OrderItem[]

  @@index([createdAt], map: "Order_createdAt_idx")
}
